{"version":3,"file":"static/js/786.ddd6f551.chunk.js","mappings":"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","sources":["pages/Products/Products.styled.jsx","pages/Products/Products.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Title = styled.h1`\n  margin-top: 50px;\n  font-size: 24px;\n  @media screen and (min-width: 1440px){\n    font-size: 32px;\n  };\n`;\n\nexport const Product = styled.div`\n  @media screen and (min-width: 1440px){\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nexport const ProductsHeader = styled.div`\n@media screen and (min-width: 1440px){\n  display: flex;\n  justify-content: space-between;\n  margin-top: 18px;\n}  \n`;\n\nexport const ProductContainer = styled.div`\n@media screen and (min-width: 1440px){\n  margin-top: 40px;\n  width: 830px;\n  height:490px;\n}  \n`;","import {Title, Product, ProductsHeader, ProductContainer} from './Products.styled.jsx';\nimport axios from 'axios';\nimport ProductsFilters from '../../components/ProductsFilters/ProductsFilters';\nimport ProductsList from '../../components/ProductsList/ProductsList';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from 'redux/auth/selectors';\n// import InfiniteScroll from 'react-infinite-scroll-component';\n\nexport default function Products() {\n  const [searchValue, setSearchValue] = useState('');\n  const [categoryProduct, setCategoryProduct] = useState('');\n  const [typeProduct, setTypeProduct] = useState('all');\n  const [products, setProducts] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [blood, setBlood] =useState('')\n\n  const user = useSelector(selectUser);\n\n  const TOKEN = user.token;\n  console.log(TOKEN)\n\n  axios.defaults.baseURL = 'https://power-pulse-project-backend.onrender.com';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: `/products?limit=10&page=${page}&search=${searchValue}&category=${categoryProduct}&recommended=${typeProduct}`,\n          headers: {\n            Authorization: `Bearer ${TOKEN}`,\n          },\n        };\n\n        const response = await axios.request(config);\n        const data = response.data;\n        setBlood(data.blood);\n\n        if (data.result.length >= 10) {\n          setHasMore(true);\n        }\n        if (page === 1) {\n          setProducts(data.result);\n        } else {\n          setProducts(prevProducts => [...prevProducts, ...data.result]);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n  }, [TOKEN, searchValue, categoryProduct, page, typeProduct]);\n\n  // const fetchMoreData = () => {\n  //   setPage(page + 1);\n  // };\n\n  return (\n    <Product>\n      <ProductsHeader>\n      <Title>Products</Title>\n      <ProductsFilters\n        setArrayProducts={setProducts}\n        setValue={setSearchValue}\n        setCategory={setCategoryProduct}\n        setType={setTypeProduct}\n        />\n      </ProductsHeader>\n      <ProductContainer>\n      {/* <InfiniteScroll\n        dataLength={products.length}\n        next={fetchMoreData}\n          hasMore={hasMore}\n          height={490}\n        loader={''}\n      > */}\n        <ProductsList hasMore={hasMore} page={page} setPage={setPage} productsArray={products} groupBlood={blood} />\n        {/* </InfiniteScroll> */}\n        </ProductContainer>\n    </Product>\n  );\n}\n"],"names":["Title","styled","_templateObject","_taggedTemplateLiteral","Product","_templateObject2","ProductsHeader","_templateObject3","ProductContainer","_templateObject4","Products","_useState","useState","_useState2","_slicedToArray","searchValue","setSearchValue","_useState3","_useState4","categoryProduct","setCategoryProduct","_useState5","_useState6","typeProduct","setTypeProduct","_useState7","_useState8","products","setProducts","_useState9","_useState10","page","setPage","_useState11","_useState12","hasMore","setHasMore","_useState13","_useState14","blood","setBlood","TOKEN","useSelector","selectUser","token","console","log","axios","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","response","data","wrap","_context","prev","next","method","maxBodyLength","Infinity","url","concat","headers","Authorization","sent","result","length","prevProducts","_toConsumableArray","t0","error","stop","apply","arguments","_jsxs","children","_jsx","ProductsFilters","setArrayProducts","setValue","setCategory","setType","ProductsList","productsArray","groupBlood"],"sourceRoot":""}